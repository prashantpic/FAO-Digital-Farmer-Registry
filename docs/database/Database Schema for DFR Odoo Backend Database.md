# Specification

# 1. Database Design

## 1.1. Farmer
Core entity representing registered farmers. Includes consent management and status tracking.

### 1.1.3. Attributes

### 1.1.3.1. id
Unique identifier for the farmer record, generated by the system (e.g., using Odoo's uuid field type or sequence).

#### 1.1.3.1.2. Type
UUID

#### 1.1.3.1.3. Is Required
True

#### 1.1.3.1.4. Is Primary Key
True

#### 1.1.3.1.5. Is Unique
True

### 1.1.3.2. uid
Human-readable unique identifier for the farmer, generated based on configurable rules (REQ-FHR-002).

#### 1.1.3.2.2. Type
VARCHAR

#### 1.1.3.2.3. Is Required
True

#### 1.1.3.2.4. Is Unique
True

#### 1.1.3.2.5. Size
20

### 1.1.3.3. fullName
Full name of the farmer.

#### 1.1.3.3.2. Type
VARCHAR

#### 1.1.3.3.3. Is Required
True

#### 1.1.3.3.4. Size
100

### 1.1.3.4. dateOfBirth
Date of birth of the farmer.

#### 1.1.3.4.2. Type
DATE

#### 1.1.3.4.3. Is Required
False

### 1.1.3.5. sex
Sex of the farmer (e.g., 'Male', 'Female', 'Other'). Utilizes Odoo's selection field type mapping to VARCHAR.

#### 1.1.3.5.2. Type
VARCHAR

#### 1.1.3.5.3. Is Required
False

#### 1.1.3.5.4. Size
10

### 1.1.3.6. roleInHousehold
Role of the farmer within their primary household (e.g., 'Head', 'Spouse', 'Child'). Utilizes Odoo's selection field type mapping to VARCHAR.

#### 1.1.3.6.2. Type
VARCHAR

#### 1.1.3.6.3. Is Required
False

#### 1.1.3.6.4. Size
50

### 1.1.3.7. educationLevel
Education level of the farmer. Utilizes Odoo's selection field type mapping to VARCHAR.

#### 1.1.3.7.2. Type
VARCHAR

#### 1.1.3.7.3. Is Required
False

#### 1.1.3.7.4. Size
50

### 1.1.3.8. contactPhone
Primary contact phone number for the farmer. Required as per SRS (REQ-FHR-*).

#### 1.1.3.8.2. Type
VARCHAR

#### 1.1.3.8.3. Is Required
True

#### 1.1.3.8.4. Size
20

### 1.1.3.9. contactEmail
Contact email address for the farmer (optional).

#### 1.1.3.9.2. Type
VARCHAR

#### 1.1.3.9.3. Is Required
False

#### 1.1.3.9.4. Size
100

### 1.1.3.10. nationalIdType
Type of National ID provided (e.g., 'Passport', 'National ID Card').

#### 1.1.3.10.2. Type
VARCHAR

#### 1.1.3.10.3. Is Required
False

#### 1.1.3.10.4. Size
50

### 1.1.3.11. nationalIdNumber
National ID number. Used for de-duplication (REQ-FHR-012 to REQ-FHR-015).

#### 1.1.3.11.2. Type
VARCHAR

#### 1.1.3.11.3. Is Required
False

#### 1.1.3.11.4. Size
50

### 1.1.3.12. consentStatus
Status of farmer's consent for data collection and use (e.g., 'Pending', 'Granted', 'Withdrawn'). Manages farmer consent as per data privacy requirements (REQ-SADG-012, REQ-B.2.2.10, REQ-4.9).

#### 1.1.3.12.2. Type
VARCHAR

#### 1.1.3.12.3. Is Required
True

#### 1.1.3.12.4. Size
20

#### 1.1.3.12.5. Default Value
'Pending'

### 1.1.3.13. consentDate
Date when consent was granted or last updated.

#### 1.1.3.13.2. Type
TIMESTAMP

#### 1.1.3.13.3. Is Required
False

### 1.1.3.14. consentVersion
Version of the consent form or policy agreed to.

#### 1.1.3.14.2. Type
VARCHAR

#### 1.1.3.14.3. Is Required
False

#### 1.1.3.14.4. Size
10

### 1.1.3.15. status
Current status of the farmer record within the registry (REQ-FHR-011). Configurable statuses via Odoo selection field.

#### 1.1.3.15.2. Type
VARCHAR

#### 1.1.3.15.3. Is Required
True

#### 1.1.3.15.4. Size
30

#### 1.1.3.15.5. Default Value
'Pending Verification'

#### 1.1.3.15.6. Constraints

- CHECK (status IN ('Pending Verification', 'Active', 'Inactive', 'Deceased', 'Duplicate', 'Archived', 'Rejected'))

### 1.1.3.16. createdAt
Timestamp when the farmer record was created.

#### 1.1.3.16.2. Type
TIMESTAMP

#### 1.1.3.16.3. Is Required
True

#### 1.1.3.16.4. Default Value
CURRENT_TIMESTAMP

### 1.1.3.17. updatedAt
Timestamp when the farmer record was last updated.

#### 1.1.3.17.2. Type
TIMESTAMP

#### 1.1.3.17.3. Is Required
True

#### 1.1.3.17.4. Default Value
CURRENT_TIMESTAMP

### 1.1.3.18. deletedAt
Timestamp when the farmer record was soft-deleted. Supports data retention policies.

#### 1.1.3.18.2. Type
TIMESTAMP

#### 1.1.3.18.3. Is Required
False


### 1.1.4. Primary Keys

- id

### 1.1.5. Unique Constraints

### 1.1.5.1. uq_farmer_uid
#### 1.1.5.1.2. Columns

- uid


### 1.1.6. Indexes

### 1.1.6.1. idx_farmer_uid
Index on UID for fast lookups.

#### 1.1.6.1.2. Columns

- uid

#### 1.1.6.1.3. Type
BTree

### 1.1.6.2. idx_farmer_national_id_number
Index on National ID for de-duplication checks and lookups.

#### 1.1.6.2.2. Columns

- nationalIdNumber

#### 1.1.6.2.3. Type
BTree

### 1.1.6.3. idx_farmer_contact_phone
Index on contact phone for de-duplication checks and lookups.

#### 1.1.6.3.2. Columns

- contactPhone

#### 1.1.6.3.3. Type
BTree

### 1.1.6.4. idx_farmer_status
Index on status for filtering and reporting.

#### 1.1.6.4.2. Columns

- status

#### 1.1.6.4.3. Type
BTree

### 1.1.6.5. idx_farmer_fullname_dob
Composite index for potential de-duplication checks and searches combining name and date of birth.

#### 1.1.6.5.2. Columns

- fullName
- dateOfBirth

#### 1.1.6.5.3. Type
BTree

### 1.1.6.6. idx_farmer_consent_status
Index on consent status for filtering and reporting.

#### 1.1.6.6.2. Columns

- consentStatus

#### 1.1.6.6.3. Type
BTree

### 1.1.6.7. idx_farmer_created_at
Index on creation date for reporting and data lifecycle management.

#### 1.1.6.7.2. Columns

- createdAt

#### 1.1.6.7.3. Type
BTree


## 1.2. Household
Represents a farmer household unit. A household can be linked to one or more farmers (household members).

### 1.2.3. Attributes

### 1.2.3.1. id
Unique identifier for the household record.

#### 1.2.3.1.2. Type
UUID

#### 1.2.3.1.3. Is Required
True

#### 1.2.3.1.4. Is Primary Key
True

#### 1.2.3.1.5. Is Unique
True

### 1.2.3.2. uid
Human-readable unique identifier for the household.

#### 1.2.3.2.2. Type
VARCHAR

#### 1.2.3.2.3. Is Required
True

#### 1.2.3.2.4. Is Unique
True

#### 1.2.3.2.5. Size
20

### 1.2.3.3. createdAt
Timestamp when the household record was created.

#### 1.2.3.3.2. Type
TIMESTAMP

#### 1.2.3.3.3. Is Required
True

#### 1.2.3.3.4. Default Value
CURRENT_TIMESTAMP

### 1.2.3.4. updatedAt
Timestamp when the household record was last updated.

#### 1.2.3.4.2. Type
TIMESTAMP

#### 1.2.3.4.3. Is Required
True

#### 1.2.3.4.4. Default Value
CURRENT_TIMESTAMP

### 1.2.3.5. deletedAt
Timestamp when the household record was soft-deleted. Supports data retention policies.

#### 1.2.3.5.2. Type
TIMESTAMP

#### 1.2.3.5.3. Is Required
False


### 1.2.4. Primary Keys

- id

### 1.2.5. Unique Constraints

### 1.2.5.1. uq_household_uid
#### 1.2.5.1.2. Columns

- uid


### 1.2.6. Indexes

### 1.2.6.1. idx_household_uid
Index on UID for fast lookups.

#### 1.2.6.1.2. Columns

- uid

#### 1.2.6.1.3. Type
BTree


## 1.3. HouseholdMember
Members belonging to a household. Links Farmers (if registered) or non-registered individuals to a Household.

### 1.3.3. Attributes

### 1.3.3.1. id
Unique identifier for the household member record.

#### 1.3.3.1.2. Type
UUID

#### 1.3.3.1.3. Is Required
True

#### 1.3.3.1.4. Is Primary Key
True

### 1.3.3.2. householdId
Foreign key linking to the Household this member belongs to.

#### 1.3.3.2.2. Type
UUID

#### 1.3.3.2.3. Is Required
True

#### 1.3.3.2.4. Is Foreign Key
True

#### 1.3.3.2.5. References
Household.id

### 1.3.3.3. farmerId
Foreign key linking to the Farmer record if this member is also a registered farmer (optional).

#### 1.3.3.3.2. Type
UUID

#### 1.3.3.3.3. Is Required
False

#### 1.3.3.3.4. Is Foreign Key
True

#### 1.3.3.3.5. References
Farmer.id

### 1.3.3.4. relationshipToHead
Relationship of this member to the household head (e.g., 'Head', 'Spouse', 'Child'). Utilizes Odoo's selection field type mapping to VARCHAR.

#### 1.3.3.4.2. Type
VARCHAR

#### 1.3.3.4.3. Is Required
True

#### 1.3.3.4.4. Size
50

### 1.3.3.5. roleInHousehold
Role within the household (e.g., 'Decision Maker', 'Laborer'). Utilizes Odoo's selection field type mapping to VARCHAR.

#### 1.3.3.5.2. Type
VARCHAR

#### 1.3.3.5.3. Is Required
False

#### 1.3.3.5.4. Size
50

### 1.3.3.6. educationLevel
Education level of the household member. Utilizes Odoo's selection field type mapping to VARCHAR.

#### 1.3.3.6.2. Type
VARCHAR

#### 1.3.3.6.3. Is Required
False

#### 1.3.3.6.4. Size
50

### 1.3.3.7. createdAt
Timestamp when the household member record was created.

#### 1.3.3.7.2. Type
TIMESTAMP

#### 1.3.3.7.3. Is Required
True

#### 1.3.3.7.4. Default Value
CURRENT_TIMESTAMP

### 1.3.3.8. updatedAt
Timestamp when the household member record was last updated.

#### 1.3.3.8.2. Type
TIMESTAMP

#### 1.3.3.8.3. Is Required
True

#### 1.3.3.8.4. Default Value
CURRENT_TIMESTAMP


### 1.3.4. Primary Keys

- id

### 1.3.5. Unique Constraints


### 1.3.6. Indexes


## 1.4. Farm
Agricultural farm unit. Associated with a Farmer and/or Household.

### 1.4.3. Attributes

### 1.4.3.1. id
Unique identifier for the farm record.

#### 1.4.3.1.2. Type
UUID

#### 1.4.3.1.3. Is Required
True

#### 1.4.3.1.4. Is Primary Key
True

### 1.4.3.2. farmerId
Foreign key linking to the Farmer who owns or manages the farm (optional - assumes Odoo logic ensures link to Farmer OR Household).

#### 1.4.3.2.2. Type
UUID

#### 1.4.3.2.3. Is Required
False

#### 1.4.3.2.4. Is Foreign Key
True

#### 1.4.3.2.5. References
Farmer.id

### 1.4.3.3. householdId
Foreign key linking to the Household associated with the farm (optional - assumes Odoo logic ensures link to Farmer OR Household).

#### 1.4.3.3.2. Type
UUID

#### 1.4.3.3.3. Is Required
False

#### 1.4.3.3.4. Is Foreign Key
True

#### 1.4.3.3.5. References
Household.id

### 1.4.3.4. name
Optional name for the farm.

#### 1.4.3.4.2. Type
VARCHAR

#### 1.4.3.4.3. Is Required
False

#### 1.4.3.4.4. Size
100

### 1.4.3.5. createdAt
Timestamp when the farm record was created.

#### 1.4.3.5.2. Type
TIMESTAMP

#### 1.4.3.5.3. Is Required
True

#### 1.4.3.5.4. Default Value
CURRENT_TIMESTAMP

### 1.4.3.6. updatedAt
Timestamp when the farm record was last updated.

#### 1.4.3.6.2. Type
TIMESTAMP

#### 1.4.3.6.3. Is Required
True

#### 1.4.3.6.4. Default Value
CURRENT_TIMESTAMP

### 1.4.3.7. deletedAt
Timestamp when the farm record was soft-deleted. Supports data retention policies.

#### 1.4.3.7.2. Type
TIMESTAMP

#### 1.4.3.7.3. Is Required
False


### 1.4.4. Primary Keys

- id

### 1.4.5. Unique Constraints


### 1.4.6. Indexes

### 1.4.6.1. idx_farm_name
Index on farm name for lookup and reporting.

#### 1.4.6.1.2. Columns

- name

#### 1.4.6.1.3. Type
BTree


## 1.5. Plot
Individual land plots within a farm. Includes geospatial location.

### 1.5.3. Attributes

### 1.5.3.1. id
Unique identifier for the plot record.

#### 1.5.3.1.2. Type
UUID

#### 1.5.3.1.3. Is Required
True

#### 1.5.3.1.4. Is Primary Key
True

### 1.5.3.2. farmId
Foreign key linking to the Farm this plot belongs to.

#### 1.5.3.2.2. Type
UUID

#### 1.5.3.2.3. Is Required
True

#### 1.5.3.2.4. Is Foreign Key
True

#### 1.5.3.2.5. References
Farm.id

### 1.5.3.3. size
Size of the plot (e.g., hectares).

#### 1.5.3.3.2. Type
DECIMAL

#### 1.5.3.3.3. Is Required
True

#### 1.5.3.3.4. Precision
10

#### 1.5.3.3.5. Scale
2

### 1.5.3.4. landTenureType
Type of land tenure (e.g., 'Owned', 'Leased', 'Communal'). Utilizes Odoo's selection field type mapping to VARCHAR.

#### 1.5.3.4.2. Type
VARCHAR

#### 1.5.3.4.3. Is Required
True

#### 1.5.3.4.4. Size
50

### 1.5.3.5. primaryCrop
Primary crop grown on the plot. Utilizes Odoo's selection field or many2one mapping to VARCHAR/relation.

#### 1.5.3.5.2. Type
VARCHAR

#### 1.5.3.5.3. Is Required
False

#### 1.5.3.5.4. Size
50

### 1.5.3.6. location
Geospatial location of the plot (GPS point) using PostGIS GEOMETRY type with SRID 4326 (WGS84). Requires PostGIS extension enabled in PostgreSQL.

#### 1.5.3.6.2. Type
GEOMETRY(Point, 4326)

#### 1.5.3.6.3. Is Required
True

### 1.5.3.7. ownershipDetails
Optional details about land ownership or tenure.

#### 1.5.3.7.2. Type
TEXT

#### 1.5.3.7.3. Is Required
False

### 1.5.3.8. createdAt
Timestamp when the plot record was created.

#### 1.5.3.8.2. Type
TIMESTAMP

#### 1.5.3.8.3. Is Required
True

#### 1.5.3.8.4. Default Value
CURRENT_TIMESTAMP

### 1.5.3.9. updatedAt
Timestamp when the plot record was last updated.

#### 1.5.3.9.2. Type
TIMESTAMP

#### 1.5.3.9.3. Is Required
True

#### 1.5.3.9.4. Default Value
CURRENT_TIMESTAMP

### 1.5.3.10. deletedAt
Timestamp when the plot record was soft-deleted. Supports data retention policies.

#### 1.5.3.10.2. Type
TIMESTAMP

#### 1.5.3.10.3. Is Required
False


### 1.5.4. Primary Keys

- id

### 1.5.5. Unique Constraints


### 1.5.6. Indexes

### 1.5.6.1. idx_plot_location_spatial
Spatial index on the GEOMETRY location field for efficient geospatial queries (e.g., points within a polygon, proximity search).

#### 1.5.6.1.2. Columns

- location

#### 1.5.6.1.3. Type
GiST


## 1.6. AdministrativeArea
Hierarchical geographical areas used for organizing farmer data and user assignments (region/district/village).

### 1.6.3. Attributes

### 1.6.3.1. id
Unique identifier for the administrative area.

#### 1.6.3.1.2. Type
UUID

#### 1.6.3.1.3. Is Required
True

#### 1.6.3.1.4. Is Primary Key
True

### 1.6.3.2. name
Name of the administrative area (e.g., 'Central District', 'Village A').

#### 1.6.3.2.2. Type
VARCHAR

#### 1.6.3.2.3. Is Required
True

#### 1.6.3.2.4. Size
100

### 1.6.3.3. type
Type of administrative area (e.g., 'District', 'Village'). Defines the hierarchy level.

#### 1.6.3.3.2. Type
VARCHAR

#### 1.6.3.3.3. Is Required
True

#### 1.6.3.3.4. Size
20

#### 1.6.3.3.5. Constraints

- CHECK (type IN ('Country', 'Region', 'Province', 'District', 'Village', 'Other'))

### 1.6.3.4. parentId
Foreign key linking to the parent administrative area in the hierarchy (null for top-level areas like Country).

#### 1.6.3.4.2. Type
UUID

#### 1.6.3.4.3. Is Required
False

#### 1.6.3.4.4. Is Foreign Key
True

#### 1.6.3.4.5. References
AdministrativeArea.id

### 1.6.3.5. createdAt
Timestamp when the record was created.

#### 1.6.3.5.2. Type
TIMESTAMP

#### 1.6.3.5.3. Is Required
True

#### 1.6.3.5.4. Default Value
CURRENT_TIMESTAMP

### 1.6.3.6. updatedAt
Timestamp when the record was last updated.

#### 1.6.3.6.2. Type
TIMESTAMP

#### 1.6.3.6.3. Is Required
True

#### 1.6.3.6.4. Default Value
CURRENT_TIMESTAMP


### 1.6.4. Primary Keys

- id

### 1.6.5. Unique Constraints


### 1.6.6. Indexes

### 1.6.6.1. idx_admin_area_name_type
Composite index for searching administrative areas by name and type.

#### 1.6.6.1.2. Columns

- name
- type

#### 1.6.6.1.3. Type
BTree

### 1.6.6.2. idx_admin_area_parent_id
Index on parent ID for navigating the administrative hierarchy.

#### 1.6.6.2.2. Columns

- parentId

#### 1.6.6.2.3. Type
BTree


## 1.7. DynamicForm
Template for customizable data collection forms, managed by the Dynamic Data Configuration Engine.

### 1.7.3. Attributes

### 1.7.3.1. id
Unique identifier for the dynamic form template.

#### 1.7.3.1.2. Type
UUID

#### 1.7.3.1.3. Is Required
True

#### 1.7.3.1.4. Is Primary Key
True

### 1.7.3.2. name
Name of the dynamic form (e.g., 'Cyclone Damage Assessment').

#### 1.7.3.2.2. Type
VARCHAR

#### 1.7.3.2.3. Is Required
True

#### 1.7.3.2.4. Size
100

### 1.7.3.3. version
Version identifier for the form template (e.g., '1.0', '1.1'). Used for versioning forms (REQ-B.2.1.2).

#### 1.7.3.3.2. Type
VARCHAR

#### 1.7.3.3.3. Is Required
True

#### 1.7.3.3.4. Size
10

### 1.7.3.4. status
Publication status of the form template (e.g., 'Draft', 'Published', 'Archived').

#### 1.7.3.4.2. Type
VARCHAR

#### 1.7.3.4.3. Is Required
True

#### 1.7.3.4.4. Size
20

#### 1.7.3.4.5. Default Value
'Draft'

#### 1.7.3.4.6. Constraints

- CHECK (status IN ('Draft', 'Published', 'Archived'))

### 1.7.3.5. isPortalAccessible
Flag indicating if this form is available for farmers to submit via the self-service portal (REQ-B.2.1.2).

#### 1.7.3.5.2. Type
BOOLEAN

#### 1.7.3.5.3. Is Required
True

#### 1.7.3.5.4. Default Value
false

### 1.7.3.6. createdAt
Timestamp when the form template was created.

#### 1.7.3.6.2. Type
TIMESTAMP

#### 1.7.3.6.3. Is Required
True

#### 1.7.3.6.4. Default Value
CURRENT_TIMESTAMP

### 1.7.3.7. updatedAt
Timestamp when the form template was last updated.

#### 1.7.3.7.2. Type
TIMESTAMP

#### 1.7.3.7.3. Is Required
True

#### 1.7.3.7.4. Default Value
CURRENT_TIMESTAMP


### 1.7.4. Primary Keys

- id

### 1.7.5. Unique Constraints

### 1.7.5.1. uq_dynamicform_name_version
Ensures uniqueness of form name and version combination.

#### 1.7.5.1.2. Columns

- name
- version


### 1.7.6. Indexes

### 1.7.6.1. idx_dynamicform_status
Index on status for filtering published/draft forms.

#### 1.7.6.1.2. Columns

- status

#### 1.7.6.1.3. Type
BTree


## 1.8. FormField
Defines individual fields within a dynamic form template.

### 1.8.3. Attributes

### 1.8.3.1. id
Unique identifier for the form field definition.

#### 1.8.3.1.2. Type
UUID

#### 1.8.3.1.3. Is Required
True

#### 1.8.3.1.4. Is Primary Key
True

### 1.8.3.2. formId
Foreign key linking to the DynamicForm template this field belongs to.

#### 1.8.3.2.2. Type
UUID

#### 1.8.3.2.3. Is Required
True

#### 1.8.3.2.4. Is Foreign Key
True

#### 1.8.3.2.5. References
DynamicForm.id

### 1.8.3.3. fieldType
Type of input field (e.g., 'text', 'number', 'date', 'select', 'gps', 'image'). Utilizes Odoo's selection field mapping to VARCHAR.

#### 1.8.3.3.2. Type
VARCHAR

#### 1.8.3.3.3. Is Required
True

#### 1.8.3.3.4. Size
20

### 1.8.3.4. label
User-facing label for the form field (translatable via Odoo i18n).

#### 1.8.3.4.2. Type
VARCHAR

#### 1.8.3.4.3. Is Required
True

#### 1.8.3.4.4. Size
100

### 1.8.3.5. isRequired
Indicates if the field requires a value.

#### 1.8.3.5.2. Type
BOOLEAN

#### 1.8.3.5.3. Is Required
True

#### 1.8.3.5.4. Default Value
false

### 1.8.3.6. validationRules
JSON object defining validation rules for the field (e.g., min/max, regex).

#### 1.8.3.6.2. Type
JSON

#### 1.8.3.6.3. Is Required
False

### 1.8.3.7. conditionalLogic
JSON object defining conditional display logic for the field (e.g., show based on other field values).

#### 1.8.3.7.2. Type
JSON

#### 1.8.3.7.3. Is Required
False

### 1.8.3.8. order
Order of the field within the form.

#### 1.8.3.8.2. Type
INT

#### 1.8.3.8.3. Is Required
True

### 1.8.3.9. createdAt
Timestamp when the field definition was created.

#### 1.8.3.9.2. Type
TIMESTAMP

#### 1.8.3.9.3. Is Required
True

#### 1.8.3.9.4. Default Value
CURRENT_TIMESTAMP

### 1.8.3.10. updatedAt
Timestamp when the field definition was last updated.

#### 1.8.3.10.2. Type
TIMESTAMP

#### 1.8.3.10.3. Is Required
True

#### 1.8.3.10.4. Default Value
CURRENT_TIMESTAMP


### 1.8.4. Primary Keys

- id

### 1.8.5. Unique Constraints


### 1.8.6. Indexes

### 1.8.6.1. idx_formfield_form_order
Composite index for retrieving fields for a form in the correct order.

#### 1.8.6.1.2. Columns

- formId
- order

#### 1.8.6.1.3. Type
BTree


## 1.9. FormSubmission
Represents a completed instance of a dynamic form submitted by a farmer.

### 1.9.3. Attributes

### 1.9.3.1. id
Unique identifier for the form submission record.

#### 1.9.3.1.2. Type
UUID

#### 1.9.3.1.3. Is Required
True

#### 1.9.3.1.4. Is Primary Key
True

### 1.9.3.2. formId
Foreign key linking to the specific version of the DynamicForm template that was submitted.

#### 1.9.3.2.2. Type
UUID

#### 1.9.3.2.3. Is Required
True

#### 1.9.3.2.4. Is Foreign Key
True

#### 1.9.3.2.5. References
DynamicForm.id

### 1.9.3.3. farmerId
Foreign key linking to the Farmer who submitted the form (REQ-B.2.1.2).

#### 1.9.3.3.2. Type
UUID

#### 1.9.3.3.3. Is Required
True

#### 1.9.3.3.4. Is Foreign Key
True

#### 1.9.3.3.5. References
Farmer.id

### 1.9.3.4. submissionDate
Timestamp when the form was submitted.

#### 1.9.3.4.2. Type
TIMESTAMP

#### 1.9.3.4.3. Is Required
True

#### 1.9.3.4.4. Default Value
CURRENT_TIMESTAMP

### 1.9.3.5. status
Processing status of the form submission (e.g., 'Submitted', 'Validated'). Configurable statuses via Odoo selection field.

#### 1.9.3.5.2. Type
VARCHAR

#### 1.9.3.5.3. Is Required
True

#### 1.9.3.5.4. Size
20

#### 1.9.3.5.5. Default Value
'Submitted'

#### 1.9.3.5.6. Constraints

- CHECK (status IN ('Submitted', 'Validated', 'Rejected', 'Pending Review', 'Draft'))

### 1.9.3.6. createdAt
Timestamp when the submission record was created (same as submissionDate).

#### 1.9.3.6.2. Type
TIMESTAMP

#### 1.9.3.6.3. Is Required
True

#### 1.9.3.6.4. Default Value
CURRENT_TIMESTAMP

### 1.9.3.7. updatedAt
Timestamp when the submission record was last updated (e.g., status change).

#### 1.9.3.7.2. Type
TIMESTAMP

#### 1.9.3.7.3. Is Required
True

#### 1.9.3.7.4. Default Value
CURRENT_TIMESTAMP


### 1.9.4. Primary Keys

- id

### 1.9.5. Unique Constraints


### 1.9.6. Indexes

### 1.9.6.1. idx_formsubmission_farmer_form
Composite index for retrieving submissions by a specific farmer for a specific form.

#### 1.9.6.1.2. Columns

- farmerId
- formId

#### 1.9.6.1.3. Type
BTree

### 1.9.6.2. idx_formsubmission_submission_date
Index on submission date for reporting and chronological queries.

#### 1.9.6.2.2. Columns

- submissionDate

#### 1.9.6.2.3. Type
BTree

### 1.9.6.3. idx_formsubmission_status
Index on status for filtering submissions needing review or processing.

#### 1.9.6.3.2. Columns

- status

#### 1.9.6.3.3. Type
BTree


## 1.10. FormResponse
Stores the value submitted for a single field within a form submission. Value is stored as TEXT for flexibility.

### 1.10.3. Attributes

### 1.10.3.1. id
Unique identifier for the form response record.

#### 1.10.3.1.2. Type
UUID

#### 1.10.3.1.3. Is Required
True

#### 1.10.3.1.4. Is Primary Key
True

### 1.10.3.2. submissionId
Foreign key linking to the FormSubmission this response is part of.

#### 1.10.3.2.2. Type
UUID

#### 1.10.3.2.3. Is Required
True

#### 1.10.3.2.4. Is Foreign Key
True

#### 1.10.3.2.5. References
FormSubmission.id

### 1.10.3.3. fieldId
Foreign key linking to the FormField definition this response corresponds to.

#### 1.10.3.3.2. Type
UUID

#### 1.10.3.3.3. Is Required
True

#### 1.10.3.3.4. Is Foreign Key
True

#### 1.10.3.3.5. References
FormField.id

### 1.10.3.4. value
The submitted value for the field, stored as text regardless of field type (number, date, etc.). Requires type casting for querying.

#### 1.10.3.4.2. Type
TEXT

#### 1.10.3.4.3. Is Required
True

### 1.10.3.5. createdAt
Timestamp when the response record was created.

#### 1.10.3.5.2. Type
TIMESTAMP

#### 1.10.3.5.3. Is Required
True

#### 1.10.3.5.4. Default Value
CURRENT_TIMESTAMP

### 1.10.3.6. updatedAt
Timestamp when the response record was last updated.

#### 1.10.3.6.2. Type
TIMESTAMP

#### 1.10.3.6.3. Is Required
True

#### 1.10.3.6.4. Default Value
CURRENT_TIMESTAMP


### 1.10.4. Primary Keys

- id

### 1.10.5. Unique Constraints


### 1.10.6. Indexes

### 1.10.6.1. idx_formresponse_submission_field
Composite index for retrieving responses for a specific submission and field.

#### 1.10.6.1.2. Columns

- submissionId
- fieldId

#### 1.10.6.1.3. Type
BTree

### 1.10.6.2. idx_formresponse_value_gin
GIN index on the text value column. Useful for full-text search or searching within the string representation of values. May require specific query patterns to be effective. Alternative BTree index might be considered depending on query patterns.

#### 1.10.6.2.2. Columns

- value

#### 1.10.6.2.3. Type
GIN


## 1.11. User
System users with access permissions, mapping to Odoo's res.users model. Roles managed via Odoo groups and record rules.

### 1.11.3. Attributes

### 1.11.3.1. id
Unique identifier for the user, mapping to Odoo's res.users ID.

#### 1.11.3.1.2. Type
UUID

#### 1.11.3.1.3. Is Required
True

#### 1.11.3.1.4. Is Primary Key
True

### 1.11.3.2. username
Unique username for login.

#### 1.11.3.2.2. Type
VARCHAR

#### 1.11.3.2.3. Is Required
True

#### 1.11.3.2.4. Is Unique
True

#### 1.11.3.2.5. Size
50

### 1.11.3.3. passwordHash
Hashed password for secure authentication (handled by Odoo framework).

#### 1.11.3.3.2. Type
VARCHAR

#### 1.11.3.3.3. Is Required
True

#### 1.11.3.3.4. Size
100

### 1.11.3.4. role
High-level role assigned to the user. More granular permissions are managed via Odoo security groups (REQ-5-*).

#### 1.11.3.4.2. Type
VARCHAR

#### 1.11.3.4.3. Is Required
True

#### 1.11.3.4.4. Size
30

#### 1.11.3.4.5. Constraints

- CHECK (role IN ('Super Admin', 'National Admin', 'Supervisor', 'Enumerator', 'Support', 'Viewer'))

### 1.11.3.5. assignedAreaId
Foreign key linking to the administrative area the user is primarily assigned to (e.g., for data scoping via Odoo record rules).

#### 1.11.3.5.2. Type
UUID

#### 1.11.3.5.3. Is Required
False

#### 1.11.3.5.4. Is Foreign Key
True

#### 1.11.3.5.5. References
AdministrativeArea.id

### 1.11.3.6. lastLogin
Timestamp of the user's last successful login.

#### 1.11.3.6.2. Type
TIMESTAMP

#### 1.11.3.6.3. Is Required
False

### 1.11.3.7. isActive
Indicates if the user account is active.

#### 1.11.3.7.2. Type
BOOLEAN

#### 1.11.3.7.3. Is Required
True

#### 1.11.3.7.4. Default Value
true

### 1.11.3.8. createdAt
Timestamp when the user record was created.

#### 1.11.3.8.2. Type
TIMESTAMP

#### 1.11.3.8.3. Is Required
True

#### 1.11.3.8.4. Default Value
CURRENT_TIMESTAMP

### 1.11.3.9. updatedAt
Timestamp when the user record was last updated.

#### 1.11.3.9.2. Type
TIMESTAMP

#### 1.11.3.9.3. Is Required
True

#### 1.11.3.9.4. Default Value
CURRENT_TIMESTAMP

### 1.11.3.10. deletedAt
Timestamp when the user record was soft-deleted. Supports data retention policies for user accounts.

#### 1.11.3.10.2. Type
TIMESTAMP

#### 1.11.3.10.3. Is Required
False


### 1.11.4. Primary Keys

- id

### 1.11.5. Unique Constraints

### 1.11.5.1. uq_user_username
Ensures username is unique.

#### 1.11.5.1.2. Columns

- username


### 1.11.6. Indexes

### 1.11.6.1. idx_user_role
Index on role for filtering users by role.

#### 1.11.6.1.2. Columns

- role

#### 1.11.6.1.3. Type
BTree


## 1.12. Notification
System-generated notifications sent via various channels (SMS, email, push).

### 1.12.3. Attributes

### 1.12.3.1. id
Unique identifier for the notification record.

#### 1.12.3.1.2. Type
UUID

#### 1.12.3.1.3. Is Required
True

#### 1.12.3.1.4. Is Primary Key
True

### 1.12.3.2. recipient
Recipient identifier (e.g., phone number, email address, user ID).

#### 1.12.3.2.2. Type
VARCHAR

#### 1.12.3.2.3. Is Required
True

#### 1.12.3.2.4. Size
100

### 1.12.3.3. channel
Delivery channel for the notification.

#### 1.12.3.3.2. Type
VARCHAR

#### 1.12.3.3.3. Is Required
True

#### 1.12.3.3.4. Size
10

#### 1.12.3.3.5. Constraints

- CHECK (channel IN ('SMS', 'Email', 'Push'))

### 1.12.3.4. content
Content of the notification message.

#### 1.12.3.4.2. Type
TEXT

#### 1.12.3.4.3. Is Required
True

### 1.12.3.5. status
Delivery status of the notification.

#### 1.12.3.5.2. Type
VARCHAR

#### 1.12.3.5.3. Is Required
True

#### 1.12.3.5.4. Size
20

#### 1.12.3.5.5. Default Value
'Pending'

#### 1.12.3.5.6. Constraints

- CHECK (status IN ('Pending', 'Sent', 'Failed', 'Delivered', 'Read'))

### 1.12.3.6. sentAt
Timestamp when the notification was sent.

#### 1.12.3.6.2. Type
TIMESTAMP

#### 1.12.3.6.3. Is Required
False

### 1.12.3.7. triggerEvent
Event that triggered the notification (e.g., 'FarmerRegistered', 'FormSubmitted').

#### 1.12.3.7.2. Type
VARCHAR

#### 1.12.3.7.3. Is Required
True

#### 1.12.3.7.4. Size
50

### 1.12.3.8. createdAt
Timestamp when the notification record was created.

#### 1.12.3.8.2. Type
TIMESTAMP

#### 1.12.3.8.3. Is Required
True

#### 1.12.3.8.4. Default Value
CURRENT_TIMESTAMP

### 1.12.3.9. updatedAt
Timestamp when the notification record was last updated (e.g., status change).

#### 1.12.3.9.2. Type
TIMESTAMP

#### 1.12.3.9.3. Is Required
True

#### 1.12.3.9.4. Default Value
CURRENT_TIMESTAMP


### 1.12.4. Primary Keys

- id

### 1.12.5. Unique Constraints


### 1.12.6. Indexes


## 1.13. AuditLog
Comprehensive log of system activity and change history for auditing and compliance (REQ-SADG-005, REQ-FHR-010, REQ-B.2.2.10). Leverages Odoo's built-in mail.thread for many record changes, but custom logs can be stored here.

### 1.13.3. Attributes

### 1.13.3.1. id
Unique identifier for the audit log entry.

#### 1.13.3.1.2. Type
UUID

#### 1.13.3.1.3. Is Required
True

#### 1.13.3.1.4. Is Primary Key
True

### 1.13.3.2. entityName
Name of the entity affected (e.g., 'Farmer', 'FormSubmission', 'User').

#### 1.13.3.2.2. Type
VARCHAR

#### 1.13.3.2.3. Is Required
True

#### 1.13.3.2.4. Size
50

### 1.13.3.3. entityId
ID of the entity affected.

#### 1.13.3.3.2. Type
UUID

#### 1.13.3.3.3. Is Required
True

### 1.13.3.4. action
Action performed (e.g., 'Create', 'Update', 'Delete', 'Login').

#### 1.13.3.4.2. Type
VARCHAR

#### 1.13.3.4.3. Is Required
True

#### 1.13.3.4.4. Size
50

#### 1.13.3.4.5. Constraints

- CHECK (action IN ('Create', 'Update', 'Delete', 'Login', 'Logout', 'Sync', 'View', 'Export', 'Import', 'Status Change'))

### 1.13.3.5. userId
Foreign key linking to the User who performed the action.

#### 1.13.3.5.2. Type
UUID

#### 1.13.3.5.3. Is Required
True

#### 1.13.3.5.4. Is Foreign Key
True

#### 1.13.3.5.5. References
User.id

### 1.13.3.6. oldValue
JSONB object storing the state of the entity before the action (for updates/deletions).

#### 1.13.3.6.2. Type
JSONB

#### 1.13.3.6.3. Is Required
False

### 1.13.3.7. newValue
JSONB object storing the state of the entity after the action (for creates/updates). Using JSONB for better querying performance.

#### 1.13.3.7.2. Type
JSONB

#### 1.13.3.7.3. Is Required
False

### 1.13.3.8. timestamp
Timestamp when the action occurred.

#### 1.13.3.8.2. Type
TIMESTAMP

#### 1.13.3.8.3. Is Required
True

#### 1.13.3.8.4. Default Value
CURRENT_TIMESTAMP

### 1.13.3.9. details
Optional text field for additional details about the action (e.g., login IP address, sync outcome summary).

#### 1.13.3.9.2. Type
TEXT

#### 1.13.3.9.3. Is Required
False


### 1.13.4. Primary Keys

- id

### 1.13.5. Unique Constraints


### 1.13.6. Indexes

### 1.13.6.1. idx_auditlog_entity_id_ts
Composite index for retrieving audit history for a specific entity.

#### 1.13.6.1.2. Columns

- entityName
- entityId
- timestamp

#### 1.13.6.1.3. Type
BTree

### 1.13.6.2. idx_auditlog_user_ts
Composite index for retrieving audit history for a specific user.

#### 1.13.6.2.2. Columns

- userId
- timestamp

#### 1.13.6.2.3. Type
BTree

### 1.13.6.3. idx_auditlog_timestamp
Index on timestamp for chronological queries and retention policy enforcement.

#### 1.13.6.3.2. Columns

- timestamp

#### 1.13.6.3.3. Type
BTree


## 1.14. MobileDevice
Represents an enumerator's mobile device used for offline data collection and synchronization.

### 1.14.3. Attributes

### 1.14.3.1. id
Unique identifier for the mobile device record.

#### 1.14.3.1.2. Type
UUID

#### 1.14.3.1.3. Is Required
True

#### 1.14.3.1.4. Is Primary Key
True

### 1.14.3.2. userId
Foreign key linking to the User assigned to this device.

#### 1.14.3.2.2. Type
UUID

#### 1.14.3.2.3. Is Required
True

#### 1.14.3.2.4. Is Foreign Key
True

#### 1.14.3.2.5. References
User.id

### 1.14.3.3. deviceId
Unique device identifier reported by the mobile application.

#### 1.14.3.3.2. Type
VARCHAR

#### 1.14.3.3.3. Is Required
True

#### 1.14.3.3.4. Is Unique
True

#### 1.14.3.3.5. Size
100

### 1.14.3.4. lastSync
Timestamp of the device's last successful synchronization.

#### 1.14.3.4.2. Type
TIMESTAMP

#### 1.14.3.4.3. Is Required
False

### 1.14.3.5. appVersion
Version of the mobile application installed on the device (REQ-4-013).

#### 1.14.3.5.2. Type
VARCHAR

#### 1.14.3.5.3. Is Required
True

#### 1.14.3.5.4. Size
20

### 1.14.3.6. deviceModel
Model of the mobile device (e.g., 'Samsung Galaxy S21').

#### 1.14.3.6.2. Type
VARCHAR

#### 1.14.3.6.3. Is Required
False

#### 1.14.3.6.4. Size
100

### 1.14.3.7. osVersion
Operating System version on the device (e.g., 'Android 13').

#### 1.14.3.7.2. Type
VARCHAR

#### 1.14.3.7.3. Is Required
False

#### 1.14.3.7.4. Size
20

### 1.14.3.8. createdAt
Timestamp when the device record was created.

#### 1.14.3.8.2. Type
TIMESTAMP

#### 1.14.3.8.3. Is Required
True

#### 1.14.3.8.4. Default Value
CURRENT_TIMESTAMP

### 1.14.3.9. updatedAt
Timestamp when the device record was last updated.

#### 1.14.3.9.2. Type
TIMESTAMP

#### 1.14.3.9.3. Is Required
True

#### 1.14.3.9.4. Default Value
CURRENT_TIMESTAMP


### 1.14.4. Primary Keys

- id

### 1.14.5. Unique Constraints

### 1.14.5.1. uq_mobiledevice_deviceid
Ensures device ID is unique.

#### 1.14.5.1.2. Columns

- deviceId


### 1.14.6. Indexes

### 1.14.6.1. idx_mobiledevice_deviceid
Index on device ID for quick lookups.

#### 1.14.6.1.2. Columns

- deviceId

#### 1.14.6.1.3. Type
BTree

### 1.14.6.2. idx_mobiledevice_user_id
Index on user ID for finding devices assigned to a user.

#### 1.14.6.2.2. Columns

- userId

#### 1.14.6.2.3. Type
BTree


## 1.15. SyncSession
Records details of synchronization sessions between a mobile device and the server (REQ-4-006).

### 1.15.3. Attributes

### 1.15.3.1. id
Unique identifier for the sync session record.

#### 1.15.3.1.2. Type
UUID

#### 1.15.3.1.3. Is Required
True

#### 1.15.3.1.4. Is Primary Key
True

### 1.15.3.2. deviceId
Foreign key linking to the MobileDevice that performed the sync.

#### 1.15.3.2.2. Type
UUID

#### 1.15.3.2.3. Is Required
True

#### 1.15.3.2.4. Is Foreign Key
True

#### 1.15.3.2.5. References
MobileDevice.id

### 1.15.3.3. startTime
Timestamp when the sync session started.

#### 1.15.3.3.2. Type
TIMESTAMP

#### 1.15.3.3.3. Is Required
True

### 1.15.3.4. endTime
Timestamp when the sync session ended (null if still in progress or failed).

#### 1.15.3.4.2. Type
TIMESTAMP

#### 1.15.3.4.3. Is Required
False

### 1.15.3.5. recordsSynced
Number of records (aggregate or detailed count per entity type) successfully synchronized during the session.

#### 1.15.3.5.2. Type
INT

#### 1.15.3.5.3. Is Required
True

### 1.15.3.6. conflictCount
Number of conflicts detected during the sync session (REQ-4-007).

#### 1.15.3.6.2. Type
INT

#### 1.15.3.6.3. Is Required
True

#### 1.15.3.6.4. Default Value
0

### 1.15.3.7. status
Status of the sync session.

#### 1.15.3.7.2. Type
VARCHAR

#### 1.15.3.7.3. Is Required
True

#### 1.15.3.7.4. Size
20

#### 1.15.3.7.5. Constraints

- CHECK (status IN ('InProgress', 'Completed', 'CompletedWithConflicts', 'Failed'))

### 1.15.3.8. errorMessage
Details of any error if the sync failed.

#### 1.15.3.8.2. Type
TEXT

#### 1.15.3.8.3. Is Required
False

### 1.15.3.9. createdAt
Timestamp when the session record was created (same as startTime).

#### 1.15.3.9.2. Type
TIMESTAMP

#### 1.15.3.9.3. Is Required
True

#### 1.15.3.9.4. Default Value
CURRENT_TIMESTAMP

### 1.15.3.10. updatedAt
Timestamp when the session record was last updated (e.g., status change, endTime populated).

#### 1.15.3.10.2. Is Required
True

#### 1.15.3.10.3. Type
TIMESTAMP

#### 1.15.3.10.4. Default Value
CURRENT_TIMESTAMP


### 1.15.4. Primary Keys

- id

### 1.15.5. Unique Constraints


### 1.15.6. Indexes

### 1.15.6.1. idx_syncsession_status_starttime
Composite index for querying sync sessions by status and start time.

#### 1.15.6.1.2. Columns

- status
- startTime

#### 1.15.6.1.3. Type
BTree

### 1.15.6.2. idx_syncsession_device_start
Composite index for querying sync sessions for a specific device.

#### 1.15.6.2.2. Columns

- deviceId
- startTime

#### 1.15.6.2.3. Type
BTree


## 1.16. Tag
Categorization labels for dynamic forms and potentially other entities.

### 1.16.3. Attributes

### 1.16.3.1. id
Unique identifier for the tag.

#### 1.16.3.1.2. Type
UUID

#### 1.16.3.1.3. Is Required
True

#### 1.16.3.1.4. Is Primary Key
True

### 1.16.3.2. name
Name of the tag (e.g., 'Subsidy', 'Survey', 'Disaster Response').

#### 1.16.3.2.2. Type
VARCHAR

#### 1.16.3.2.3. Is Required
True

#### 1.16.3.2.4. Is Unique
True

#### 1.16.3.2.5. Size
50

### 1.16.3.3. createdAt
Timestamp when the tag was created.

#### 1.16.3.3.2. Type
TIMESTAMP

#### 1.16.3.3.3. Is Required
True

#### 1.16.3.3.4. Default Value
CURRENT_TIMESTAMP

### 1.16.3.4. updatedAt
Timestamp when the tag was last updated.

#### 1.16.3.4.2. Is Required
True

#### 1.16.3.4.3. Type
TIMESTAMP

#### 1.16.3.4.4. Default Value
CURRENT_TIMESTAMP


### 1.16.4. Primary Keys

- id

### 1.16.5. Unique Constraints

### 1.16.5.1. uq_tag_name
Ensures tag name is unique.

#### 1.16.5.1.2. Columns

- name


### 1.16.6. Indexes


## 1.17. FormTag
Join table for the Many-to-Many relationship between DynamicForms and Tags.

### 1.17.3. Attributes

### 1.17.3.1. formId
Foreign key linking to the DynamicForm.

#### 1.17.3.1.2. Type
UUID

#### 1.17.3.1.3. Is Required
True

#### 1.17.3.1.4. Is Foreign Key
True

#### 1.17.3.1.5. References
DynamicForm.id

### 1.17.3.2. tagId
Foreign key linking to the Tag.

#### 1.17.3.2.2. Type
UUID

#### 1.17.3.2.3. Is Required
True

#### 1.17.3.2.4. Is Foreign Key
True

#### 1.17.3.2.5. References
Tag.id


### 1.17.4. Primary Keys

- formId
- tagId

### 1.17.5. Unique Constraints


### 1.17.6. Indexes

### 1.17.6.1. idx_formtag_tag_form
Composite index supporting lookups from Tag to Form.

#### 1.17.6.1.2. Columns

- tagId
- formId

#### 1.17.6.1.3. Type
BTree




---

# 2. Diagrams

- **Diagram_Title:** Core Entities (Farmer, Household, Farm, Plot, Geo)  
**Diagram_Area:** Farmer Registry, Land, Geo-Hierarchy  
**Explanation:** This diagram illustrates the core entities related to farmers, their households, landholdings (farms and plots), and the administrative geographical structure used for organization.  
**Mermaid_Text:** erDiagram
    Farmer {
        UUID id PK
        timestamp deletedAt
    }
    Household {
        UUID id PK
        timestamp deletedAt
    }
    HouseholdMember {
        UUID id PK
        UUID householdId FK "Household"
        UUID farmerId FK "Farmer"
    }
    Farm {
        UUID id PK
        UUID farmerId FK "Farmer"
        UUID householdId FK "Household"
        timestamp deletedAt
    }
    Plot {
        UUID id PK
        UUID farmId FK "Farm"
        timestamp deletedAt
    }
    AdministrativeArea {
        UUID id PK
        UUID parentId FK "AdministrativeArea"
    }

    Household ||--|{ HouseholdMember : "has member"
    Farmer ||--o{ HouseholdMember : "is member"
    Farmer ||--o{ Farm : "manages/owns"
    Household ||--o{ Farm : "associated with"
    Farm ||--|{ Plot : "has plot"
    AdministrativeArea ||--o{ AdministrativeArea : "parent"
  
- **Diagram_Title:** Data Collection (Forms, Submissions)  
**Diagram_Area:** Dynamic Forms, Submissions, Tags  
**Explanation:** This diagram focuses on the dynamic data collection mechanism, showing how form templates are defined, fields are structured, and how farmer submissions capture data, including tagging. It also links submissions back to the farmer entity.  
**Mermaid_Text:** erDiagram
    DynamicForm {
        UUID id PK
    }
    FormField {
        UUID id PK
        UUID formId FK "DynamicForm"
    }
    FormSubmission {
        UUID id PK
        UUID formId FK "DynamicForm"
        UUID farmerId FK "Farmer"
    }
    FormResponse {
        UUID id PK
        UUID submissionId FK "FormSubmission"
        UUID fieldId FK "FormField"
    }
    Tag {
        UUID id PK
    }
    FormTag {
        UUID formId PK,FK "DynamicForm"
        UUID tagId PK,FK "Tag"
    }
    %% Include Farmer definition as it's linked
    Farmer {
        UUID id PK
        timestamp deletedAt
    }

    DynamicForm ||--|{ FormField : "has field"
    DynamicForm ||--|{ FormSubmission : "has submission"
    Farmer ||--|{ FormSubmission : "submits"
    FormSubmission ||--|{ FormResponse : "has response"
    FormField ||--|{ FormResponse : "is response for"
    DynamicForm }|--|| { Tag : "tagged with"
    %% Explicit join table links are optional when using M-N symbol
    %% DynamicForm ||--|{ FormTag : "links to tag"
    %% Tag ||--|{ FormTag : "linked by form"
  
- **Diagram_Title:** System Users, Devices, Audit, Notifications  
**Diagram_Area:** User Management, Mobile Sync, Auditing, Notifications  
**Explanation:** This diagram shows system users, their assignment to administrative areas, associated mobile devices and sync sessions, the system audit trail, and standalone notifications.  
**Mermaid_Text:** erDiagram
    User {
        UUID id PK
        UUID assignedAreaId FK "AdministrativeArea"
        timestamp deletedAt
    }
    MobileDevice {
        UUID id PK
        UUID userId FK "User"
    }
    SyncSession {
        UUID id PK
        UUID deviceId FK "MobileDevice"
    }
    AuditLog {
        UUID id PK
        UUID userId FK "User"
    }
    Notification {
        UUID id PK
    }
    %% Include AdministrativeArea definition as it's linked
    AdministrativeArea {
        UUID id PK
        UUID parentId FK "AdministrativeArea"
    }

    User ||--|{ MobileDevice : "has device"
    MobileDevice ||--|{ SyncSession : "has session"
    User ||--|{ AuditLog : "performs action"
    AdministrativeArea ||--o{ User : "assigned area"
  


---

